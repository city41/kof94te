# Unexpected Colors Bug

## Repro

Set game to single play

Choose default team Italy with D

Joe will be alt color in order select

Choose Joe as the fighter

once match starts, Joe is no longer alternate, most of the time

now lose round, next round he is alternate

## dumping values

bp 32f0,, { printf "charid: %x", ((d0 && ff) >> 2); g }
bp 330a,,{ printf "d1: %x, a4: %x, a4+84: %x", d1, a4, d@(a4+84); g }

### when it repros at start of match

charid: 11
d1: 56A, a4: 108100, a4+84: 108584

but same when it does repro

regular colors
bp 3530, d1 == 55d && a4 == 108100, {printf "a2: %x, a3: %x",a2,a3; g }
alt colors
bp 3530, d1 == 56b && a4 == 108100, {printf "a2: %x, a3: %x",a2,a3; g }

a2: 1088a8, a3: 79d42
same when it does and doesn't repo

bp 3530, d1 == 56b && a4 == 108100, {printf "D0=%x D1=%x D2=%x D3=%x D4=%x D5=%x D6=%x D7=%x A0=%x A1=%x A2=%x A3=%x A4=%x A5=%x A6=%x PC=%x -- ",d0,d1,d2,d3,d4,d6,d6,d7,a0,a1,a2,a3,a4,a5,a6,pc; g }

D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --

repro'd against: Korea
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=0 A0=33D2 A1=102100 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --

D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --

none of these repro'd
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=0 A0=33D2 A1=101D00 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=0 A0=33D2 A1=101D00 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=0 A0=33D2 A1=101D00 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --

but this did, against Korea
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=0 A0=33D2 A1=102100 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --

none of these repro'd
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=FFFF A0=33D2 A1=108205 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --

but this did, again against Korea
D0=AD40 D1=56B D2=11 D3=D D4=FFFF D5=0 D6=0 D7=0 A0=33D2 A1=102100 A2=1098A8 A3=79D42 A4=108100 A5=108000 A6=10B9CA PC=3530 --

one possible pattern: a1=102100 when it does repro

## Against Korea and Brazil

It always repros. Forcing Korea or Brazil with cpuAlwaysPicksSpecificTeam.lua makes it repro every time, and seemingly with every character

I have never gotten it to repro against any other team

## Joe's palettes

regular: 79b82
alt: 79d42
